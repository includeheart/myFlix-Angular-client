<mat-card *ngIf="user.Username">
  <mat-card-header>
    <mat-card-title>Your Profile</mat-card-title>
  </mat-card-header>
  <mat-card-content>
    <form *ngIf="editable">
      <mat-form-field>
        <input matInput [(ngModel)]="updatedUser.Username" name="Username" placeholder="Username" required>
      </mat-form-field>
      <mat-form-field>
        <input matInput [(ngModel)]="updatedUser.Email" name="Email" placeholder="Email" required>
      </mat-form-field>
      <mat-form-field>
        <input
          matInput
          [(ngModel)]="updatedUser.Birthday"
          name="Birthday"
          placeholder="Birthday"
          type="date"
        >
      </mat-form-field>
    </form>
    <div *ngIf="!editable">
      <p><strong>Username:</strong> {{user.Username}}</p>
      <p><strong>Email:</strong> {{user.Email}}</p>
      <p><strong>Birthday:</strong> {{user.Birthday | date}}</p>
    </div>
    <div *ngIf="favoriteMovies.length > 0" style="margin-top: 24px;">
      <h3>Your Favorite Movies</h3>
      <ul>
        <li *ngFor="let movie of favoriteMovies">
          {{ movie.Title }}
          <button mat-icon-button color="warn" (click)="removeFromFavorites(movie._id)" aria-label="Remove from favorites">
            <mat-icon>delete</mat-icon>
          </button>
        </li>
      </ul>
    </div>
    <div *ngIf="!favoriteMovies.length" style="margin-top: 24px;">
      <em>You have no favorite movies yet.</em>
    </div>
  </mat-card-content>
  <mat-card-actions>
    <button mat-raised-button color="primary" *ngIf="!editable" (click)="enableEdit()">Edit</button>
    <button mat-stroked-button color="accent" *ngIf="!editable" (click)="goBack()">Back</button>
    <button mat-raised-button color="primary" *ngIf="editable" (click)="saveProfile()">Save</button>
    <button mat-button *ngIf="editable" (click)="cancelEdit()">Cancel</button>
  </mat-card-actions>
</mat-card>
